!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self)["contentful-parsers"]={})}(this,function(e){"use strict";e.fieldsParser=function(e,o){function s(e){return"object"==typeof e&&e.hasOwnProperty("sys")&&1===Object.keys(e).length}function d(t,e,n,i){if(void 0===n&&(n={}),void 0===i&&(i=0),!t||"object"!=typeof t)return n;if(i>=o.include)return n;var r=Object.assign({},n);return Object.keys(t).forEach(function(e){r[e]=t[e].fields?d(t[e].fields,t[e].sys,r[e],i+1):function t(e,n){return void 0===n&&(n=0),s(e)?null:Array.isArray(e)?e.filter(function(e){return!s(e)}).map(function(e){return e&&"object"==typeof e&&e.fields?d(e.fields,e.sys,{},n+1):t(e,n+1)}):e}(t[e],i+1)}),e&&e.contentType&&e.contentType.sys&&e.contentType.sys.id&&(r.id=e.id,r.__typename=e.contentType.sys.id),e&&e.updatedAt&&(r.updatedAt=e.updatedAt),e&&e.createdAt&&(r.createdAt=e.createdAt),r}return void 0===o&&(o={include:10}),d(e.fields,e.sys)},Object.defineProperty(e,"__esModule",{value:!0})});
